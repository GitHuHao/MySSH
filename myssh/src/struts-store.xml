<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>
	<package name="store" namespace="/store" extends="json-default">
		<!-- struts.enable.DynamicMethodInvocation 开启通配模式 -->
		<action name="store_*" class="storeAction" method="{1}">
			<result name="list">/jsps/store/list.jsp</result>
			<result name="toAddJsp">/jsps/store/add.jsp</result>
			<result name="add">/jsps/main.jsp</result>
			<result name="toUpdateJsp">/jsps/store/update.jsp</result>
			<result name="update">/jsps/main.jsp</result>
			<result type="redirectAction" name="delete">store_list</result>
			
			<result name="ajaxDelCheck" type="json">
				<!-- json形式,返回Action类的指定属性-->
				<param name="root">store</param>
				<!-- 允许传送的属性 -->
				<param name="includeProperties">
					id,name,goodses
				</param>
				<!-- 不允许传送的属性,2选1进行过滤即可 -->
				<param name="excludeProperties">
					addr
				</param>
			</result>
			
			<result name="deleteByAjax" type="json">
				<!-- json形式,返回Action类的指定属性-->
				<param name="root">store</param>
			</result>
			
			<result name="ajaxSelectList" type="json">
				<!-- json形式,返回Action类的指定属性
				<param name="root">storeList</param>
				<param name="includeProperties">
					\[\d+\]\.id,
					\[\d+\]\.name
				</param> -->
				<param name="root">action</param>
				<param name="includeProperties">
					storeList\[\d+\]\.id,
					storeList\[\d+\]\.name
				</param>
			</result>
		</action>
	</package>
</struts>
